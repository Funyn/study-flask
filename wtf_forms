创建验证表单

from flask_wtf import CsrfProtect,FlaskForm                  导入表单基类和CSRF保护
from wtforms import StringField,IntegerField,BooleanField			导入表单字段类型
from wtforms.validators import Length,EqualTo,InputRequired,DataRequired	导入验证器
from flask import Flask,request,render_template

app = Flask(__name__)
app.config.from_pyfile('config.py')
CsrfProtect(app)
'''
csrf = CsrfProtect()         注册CSRF保护,还需要在config文件内写入SECRET_KEY密钥
csrf.init_app(app)
'''

class RegisterForm(FlaskForm):      基于FlaskForm类创建注册表单类

	username = StringField(validators=[Length(min=3,max=15)])    所获得的数据的一些验证
	password = StringField(validators=[InputRequired()])


@app.route('/',methods=['GET','POST'])
def register():
	if request.method == 'GET':
		return render_template('registered.html')
	else:
		form = RegisterForm()       创建一个注册表单类的实例对象
		if form.validate():		检测获得数据是否通过验证
			return 'success'
		else: 
			return 'fail'

if __name__ == '__main__':
	app.run(debug=True)
